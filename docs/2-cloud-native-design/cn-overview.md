---
id: Overview
sidebar_position: 0
sidebar_label: Overview
---

The previous sections have provided introductions to Domain Driven Design principles, and how they may be used for 
defining an appropriate Microservice Architecture for our sample 'The Better Store' cloud-native ECommerce system.
This section continues from the proposed DDD tactical design to formulate an implementation of out decomposed microservices, 
while describing and adopting popular cloud-native patterns to reap advantages that they provide.

A great resource for referencing popular Microservice Architecture patterns has been published by Chris Richardson at, 
https://microservices.io/, which he illustrates as below:

![Micoservice Pattern Language ](microservicepatternlanguage.jpg)


Key patterns that we will be exploring further include:

##### Application Patterns

| **Pattern**            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Potential AWS Services |
|:-----------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
| _Decomposition_        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | N/A                    |
| Decompose by subdomain | As per our previous sections, we may use Domain Driven Design to formulate appropriate decomposition of services to business capabilities or _subdomains_.                                                                                                                                                                                                                                                                                                                                                                              | N/A                    |
| Self-contained Service | Services own and define all of their dependencies such as data storage, security resources etc; such that they can be deployed quickly and independently across environments. External/shared dependencies are kept to a minimum; such as the VPC in which they reside.                                                                                                                                                                                                                                                                 | N/A                    |
| Service per team       | As each service is decomposed to a specific business subdomain, they should be allocated ownership to a single business product team that is responsible for that subdomain.                                                                                                                                                                                                                                                                                                                                                            | N/A                    |
| _Data Patterns_        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | N/A                    |
| Database per Service   | Implementing a database specific to a service helps promote system agility via cohesion and decoupling of services, and minimising their external dependencies. This is in-contrast to implementing a 'shared database', which while may provide a simpler system design including for transaction management and defining wider data relationships, change agility becomes reduced while database changes may impact all connected services.                                                                                           | RDS, DynamoDB (NoSQL)  |
| API Composition        | While microservices serve a specific subdomain for sending, receiving and processing of data, it is very common that clients may wish to query data that span multiple related services; e.g. both Order and Product services to provide inventory details of an order. API's may by created to serve a client, by implementing endpoints (e.g. 'GET /orderdetails' that can span multiple services and aggregate the results to return to the client. This greatly reduces the complexity and domain knowledge required by the client. | API Gateway            |
| CQRS                   | To promote scalability and resilience of a service's communications with a database, the Command and Query Responsibility Segregation is promoted, whereby writing of data to a database is performed separately and asynchronously (using 'eventual consistency') from synchronous read operations to the database. This will be described in further depth later.                                                                                                                                                                     |                        |
| Saga                   | Methodology that allows a distributed data transaction spanning multiple databases (or other data stores) to be rolled-back via compensatory actions. Note this becomes a necessary complexity for microservice architectures when a shared database is not used, in favour of agility.                                                                                                                                                                                                                                                 |                        |


##### Application Infrastructure Patterns

| **Pattern**                                     | Description                                                                | Potential AWS Services                                                                               |
|:------------------------------------------------|:---------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|
| _Cross-cutting concerns_                        |                                                                            |                                                                                                      |
| Externalized configuration                      |   | AWS SSM ParameterStore, AWS SecretsManager                                                           |
| _Communication Style_                           |   |                                                                                                      |
| Messaging (asynchronous)                        |   | AWS SNS, AWS SQS, AWS EventBridge                                                                    |
| Remote Procedure Invocation (RPC) (synchronous) |   | AWS SDK                                                                                              |
| _Reliability_                                   |   |                                                                                                      |
| Circuit Breaker                                 |   |                                                                                                      |
| _Observability_                                 |   |                                                                                                      |
| Logging                                         |   | AWS Cloudwatch                                                                                       |
| Metrics                                         |   | AWS Cloudwatch                                                                                       |
| Distributed tracing                             |   | AWS x-ray                                                                                            |
| Health check API                                |   | AWS Cloudwatch alarms, healthcheck endpoint support e.g. Route53, Load Balancers, Autoscaling groups |


##### Infrastructure Patterns

| **Pattern**           | Description                                                                                                                                                                                                                                                                                                | Potential AWS Services                                                   |
|:----------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
| Service per VM        | Each service/microservice is deployed to its own virtunal machine. Horizontal scaling of the service may be realized by spawning new instances of VM's containing the application. Note scaliing can be slow, as initializing a VM requires bootstrapping of its underlying OS and infrastructure services | AWS EC2                                                                  |
| Serverless deployment | The hosts and OS of services/microservices are abstracted away from the implementer, and the cloud provider assumes responsibility for managing these. Typically the cloud customer simply specifies the CPU and storage units tha are required, and costs ar ebased on these and time                     | AWS Lambda (Function as a Service), AWS ECS (Fargate), AWS EKS (Fargate) |
| Service per container |                                                                                                                                                                                                                                                                                                            | AWS ECS, AWS EKS                                                         |
| Sidecar               |                                                                                                                                                                                                                                                                                                            | AWS ECS, AWS EKS                                                                          |
